"use strict";
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {
    Object.defineProperty(o, "default", { enumerable: true, value: v });
}) : function(o, v) {
    o["default"] = v;
});
var __importStar = (this && this.__importStar) || function (mod) {
    if (mod && mod.__esModule) return mod;
    var result = {};
    if (mod != null) for (var k in mod) if (k !== "default" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);
    __setModuleDefault(result, mod);
    return result;
};
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.isFixedElement = exports.hasDimensions = exports.isNotVisibleNode = exports.getWindowDimensions = exports.getViewportDimensions = exports.set = exports.get = exports.setScrollTop = exports.setScrollLeft = exports.getScrollTop = exports.getScrollLeft = exports.getInnerHeight = exports.getInnerWidth = exports.getHeight = exports.getWidth = exports.isSelectVisibleChild = exports.isElementVisible = exports.getSelectElementSize = exports.getOptionHeight = exports.getElementScroll = exports.getElementPadding = exports.getElementMargin = exports.getComputedStyle = exports.getBordersWidth = void 0;
const hammerhead_1 = __importDefault(require("../deps/hammerhead"));
const boundary_values_1 = __importDefault(require("./values/boundary-values"));
const domUtils = __importStar(require("./dom"));
const styleUtils = hammerhead_1.default.utils.style;
exports.getBordersWidth = hammerhead_1.default.utils.style.getBordersWidth;
exports.getComputedStyle = hammerhead_1.default.utils.style.getComputedStyle;
exports.getElementMargin = hammerhead_1.default.utils.style.getElementMargin;
exports.getElementPadding = hammerhead_1.default.utils.style.getElementPadding;
exports.getElementScroll = hammerhead_1.default.utils.style.getElementScroll;
exports.getOptionHeight = hammerhead_1.default.utils.style.getOptionHeight;
exports.getSelectElementSize = hammerhead_1.default.utils.style.getSelectElementSize;
exports.isElementVisible = hammerhead_1.default.utils.style.isElementVisible;
exports.isSelectVisibleChild = hammerhead_1.default.utils.style.isVisibleChild;
exports.getWidth = hammerhead_1.default.utils.style.getWidth;
exports.getHeight = hammerhead_1.default.utils.style.getHeight;
exports.getInnerWidth = hammerhead_1.default.utils.style.getInnerWidth;
exports.getInnerHeight = hammerhead_1.default.utils.style.getInnerHeight;
exports.getScrollLeft = hammerhead_1.default.utils.style.getScrollLeft;
exports.getScrollTop = hammerhead_1.default.utils.style.getScrollTop;
exports.setScrollLeft = hammerhead_1.default.utils.style.setScrollLeft;
exports.setScrollTop = hammerhead_1.default.utils.style.setScrollTop;
exports.get = hammerhead_1.default.utils.style.get;
function set(el, style, value) {
    if (typeof style === 'string')
        styleUtils.set(el, style, value);
    for (const property in style) {
        if (style.hasOwnProperty(property))
            styleUtils.set(el, property, style[property]);
    }
}
exports.set = set;
function getViewportDimension(windowDimension, documentDimension, bodyDimension) {
    if (documentDimension > windowDimension)
        return bodyDimension;
    if (bodyDimension > windowDimension)
        return documentDimension;
    return Math.max(bodyDimension, documentDimension);
}
function getViewportDimensions() {
    return {
        width: getViewportDimension(window.innerWidth, document.documentElement.clientWidth, document.body.clientWidth),
        height: getViewportDimension(window.innerHeight, document.documentElement.clientHeight, document.body.clientHeight),
    };
}
exports.getViewportDimensions = getViewportDimensions;
function getWindowDimensions(window) {
    return new boundary_values_1.default(0, exports.getWidth(window), exports.getHeight(window), 0);
}
exports.getWindowDimensions = getWindowDimensions;
function isVisibilityHiddenNode(node) {
    return !!domUtils.findParent(node, true, ancestor => domUtils.isElementNode(ancestor) && styleUtils.get(ancestor, 'visibility') === 'hidden');
}
function isHiddenNode(node) {
    return !!domUtils.findParent(node, true, ancestor => domUtils.isElementNode(ancestor) && styleUtils.get(ancestor, 'display') === 'none');
}
function isNotVisibleNode(node) {
    return !domUtils.isRenderedNode(node) || isHiddenNode(node) || isVisibilityHiddenNode(node);
}
exports.isNotVisibleNode = isNotVisibleNode;
function hasDimensions(el) {
    //NOTE: it's like jquery ':visible' selector (http://blog.jquery.com/2009/02/20/jquery-1-3-2-released/)
    return el && !(el.offsetHeight <= 0 && el.offsetWidth <= 0);
}
exports.hasDimensions = hasDimensions;
function isFixedElement(node) {
    return domUtils.isElementNode(node) && styleUtils.get(node, 'position') === 'fixed';
}
exports.isFixedElement = isFixedElement;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3R5bGUuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9zcmMvY2xpZW50L2NvcmUvdXRpbHMvc3R5bGUuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLG9FQUE0QztBQUM1QywrRUFBc0Q7QUFDdEQsZ0RBQWtDO0FBRWxDLE1BQU0sVUFBVSxHQUFHLG9CQUFVLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQztBQUU3QixRQUFBLGVBQWUsR0FBUSxvQkFBVSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsZUFBZSxDQUFDO0FBQzlELFFBQUEsZ0JBQWdCLEdBQU8sb0JBQVUsQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLGdCQUFnQixDQUFDO0FBQy9ELFFBQUEsZ0JBQWdCLEdBQU8sb0JBQVUsQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLGdCQUFnQixDQUFDO0FBQy9ELFFBQUEsaUJBQWlCLEdBQU0sb0JBQVUsQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLGlCQUFpQixDQUFDO0FBQ2hFLFFBQUEsZ0JBQWdCLEdBQU8sb0JBQVUsQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLGdCQUFnQixDQUFDO0FBQy9ELFFBQUEsZUFBZSxHQUFRLG9CQUFVLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxlQUFlLENBQUM7QUFDOUQsUUFBQSxvQkFBb0IsR0FBRyxvQkFBVSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsb0JBQW9CLENBQUM7QUFDbkUsUUFBQSxnQkFBZ0IsR0FBTyxvQkFBVSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsZ0JBQWdCLENBQUM7QUFDL0QsUUFBQSxvQkFBb0IsR0FBRyxvQkFBVSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsY0FBYyxDQUFDO0FBQzdELFFBQUEsUUFBUSxHQUFlLG9CQUFVLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUM7QUFDdkQsUUFBQSxT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QyxJQUFJLFVBQVUsQ0FBQyxHQUFHLENBQUMsUUFBUSxFQUFFLFNBQVMsQ0FBQyxLQUFLLE1BQU0sQ0FBQyxDQUFDO0FBQzVGLENBQUM7QUFFRCxTQUFnQixnQkFBZ0IsQ0FBRSxJQUFJO0lBQ2xDLE9BQU8sQ0FBQyxRQUFRLENBQUMsY0FBYyxDQUFDLElBQUksQ0FBQyxJQUFJLFlBQVksQ0FBQyxJQUFJLENBQUMsSUFBSSxzQkFBc0IsQ0FBQyxJQUFJLENBQUMsQ0FBQztBQUNoRyxDQUFDO0FBRkQsNENBRUM7QUFFRCxTQUFnQixhQUFhLENBQUUsRUFBRTtJQUM3Qix1R0FBdUc7SUFDdkcsT0FBTyxFQUFFLElBQUksQ0FBQyxDQUFDLEVBQUUsQ0FBQyxZQUFZLElBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxXQUFXLElBQUksQ0FBQyxDQUFDLENBQUM7QUFDaEUsQ0FBQztBQUhELHNDQUdDO0FBRUQsU0FBZ0IsY0FBYyxDQUFFLElBQUk7SUFDaEMsT0FBTyxRQUFRLENBQUMsYUFBYSxDQUFDLElBQUksQ0FBQyxJQUFJLFVBQVUsQ0FBQyxHQUFHLENBQUMsSUFBSSxFQUFFLFVBQVUsQ0FBQyxLQUFLLE9BQU8sQ0FBQztBQUN4RixDQUFDO0FBRkQsd0NBRUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgaGFtbWVyaGVhZCBmcm9tICcuLi9kZXBzL2hhbW1lcmhlYWQnO1xuaW1wb3J0IEJvdW5kYXJ5VmFsdWVzIGZyb20gJy4vdmFsdWVzL2JvdW5kYXJ5LXZhbHVlcyc7XG5pbXBvcnQgKiBhcyBkb21VdGlscyBmcm9tICcuL2RvbSc7XG5cbmNvbnN0IHN0eWxlVXRpbHMgPSBoYW1tZXJoZWFkLnV0aWxzLnN0eWxlO1xuXG5leHBvcnQgY29uc3QgZ2V0Qm9yZGVyc1dpZHRoICAgICAgPSBoYW1tZXJoZWFkLnV0aWxzLnN0eWxlLmdldEJvcmRlcnNXaWR0aDtcbmV4cG9ydCBjb25zdCBnZXRDb21wdXRlZFN0eWxlICAgICA9IGhhbW1lcmhlYWQudXRpbHMuc3R5bGUuZ2V0Q29tcHV0ZWRTdHlsZTtcbmV4cG9ydCBjb25zdCBnZXRFbGVtZW50TWFyZ2luICAgICA9IGhhbW1lcmhlYWQudXRpbHMuc3R5bGUuZ2V0RWxlbWVudE1hcmdpbjtcbmV4cG9ydCBjb25zdCBnZXRFbGVtZW50UGFkZGluZyAgICA9IGhhbW1lcmhlYWQudXRpbHMuc3R5bGUuZ2V0RWxlbWVudFBhZGRpbmc7XG5leHBvcnQgY29uc3QgZ2V0RWxlbWVudFNjcm9sbCAgICAgPSBoYW1tZXJoZWFkLnV0aWxzLnN0eWxlLmdldEVsZW1lbnRTY3JvbGw7XG5leHBvcnQgY29uc3QgZ2V0T3B0aW9uSGVpZ2h0ICAgICAgPSBoYW1tZXJoZWFkLnV0aWxzLnN0eWxlLmdldE9wdGlvbkhlaWdodDtcbmV4cG9ydCBjb25zdCBnZXRTZWxlY3RFbGVtZW50U2l6ZSA9IGhhbW1lcmhlYWQudXRpbHMuc3R5bGUuZ2V0U2VsZWN0RWxlbWVudFNpemU7XG5leHBvcnQgY29uc3QgaXNFbGVtZW50VmlzaWJsZSAgICAgPSBoYW1tZXJoZWFkLnV0aWxzLnN0eWxlLmlzRWxlbWVudFZpc2libGU7XG5leHBvcnQgY29uc3QgaXNTZWxlY3RWaXNpYmxlQ2hpbGQgPSBoYW1tZXJoZWFkLnV0aWxzLnN0eWxlLmlzVmlzaWJsZUNoaWxkO1xuZXhwb3J0IGNvbnN0IGdldFdpZHRoICAgICAgICAgICAgID0gaGFtbWVyaGVhZC51dGlscy5zdHlsZS5nZXRXaWR0aDtcbmV4cG9ydCBjb25zdCBnZXRIZWlnaHQgICAgICAgICAgICA9IGhhbW1lcmhlYWQudXRpbHMuc3R5bGUuZ2V0SGVpZ2h0O1xuZXhwb3J0IGNvbnN0IGdldElubmVyV2lkdGggICAgICAgID0gaGFtbWVyaGVhZC51dGlscy5zdHlsZS5nZXRJbm5lcldpZHRoO1xuZXhwb3J0IGNvbnN0IGdldElubmVySGVpZ2h0ICAgICAgID0gaGFtbWVyaGVhZC51dGlscy5zdHlsZS5nZXRJbm5lckhlaWdodDtcbmV4cG9ydCBjb25zdCBnZXRTY3JvbGxMZWZ0ICAgICAgICA9IGhhbW1lcmhlYWQudXRpbHMuc3R5bGUuZ2V0U2Nyb2xsTGVmdDtcbmV4cG9ydCBjb25zdCBnZXRTY3JvbGxUb3AgICAgICAgICA9IGhhbW1lcmhlYWQudXRpbHMuc3R5bGUuZ2V0U2Nyb2xsVG9wO1xuZXhwb3J0IGNvbnN0IHNldFNjcm9sbExlZnQgICAgICAgID0gaGFtbWVyaGVhZC51dGlscy5zdHlsZS5zZXRTY3JvbGxMZWZ0O1xuZXhwb3J0IGNvbnN0IHNldFNjcm9sbFRvcCAgICAgICAgID0gaGFtbWVyaGVhZC51dGlscy5zdHlsZS5zZXRTY3JvbGxUb3A7XG5leHBvcnQgY29uc3QgZ2V0ICAgICAgICAgICAgICAgICAgPSBoYW1tZXJoZWFkLnV0aWxzLnN0eWxlLmdldDtcblxuXG5leHBvcnQgZnVuY3Rpb24gc2V0IChlbCwgc3R5bGUsIHZhbHVlKSB7XG4gICAgaWYgKHR5cGVvZiBzdHlsZSA9PT0gJ3N0cmluZycpXG4gICAgICAgIHN0eWxlVXRpbHMuc2V0KGVsLCBzdHlsZSwgdmFsdWUpO1xuXG4gICAgZm9yIChjb25zdCBwcm9wZXJ0eSBpbiBzdHlsZSkge1xuICAgICAgICBpZiAoc3R5bGUuaGFzT3duUHJvcGVydHkocHJvcGVydHkpKVxuICAgICAgICAgICAgc3R5bGVVdGlscy5zZXQoZWwsIHByb3BlcnR5LCBzdHlsZVtwcm9wZXJ0eV0pO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZ2V0Vmlld3BvcnREaW1lbnNpb24gKHdpbmRvd0RpbWVuc2lvbiwgZG9jdW1lbnREaW1lbnNpb24sIGJvZHlEaW1lbnNpb24pIHtcbiAgICBpZiAoZG9jdW1lbnREaW1lbnNpb24gPiB3aW5kb3dEaW1lbnNpb24pXG4gICAgICAgIHJldHVybiBib2R5RGltZW5zaW9uO1xuXG4gICAgaWYgKGJvZHlEaW1lbnNpb24gPiB3aW5kb3dEaW1lbnNpb24pXG4gICAgICAgIHJldHVybiBkb2N1bWVudERpbWVuc2lvbjtcblxuICAgIHJldHVybiBNYXRoLm1heChib2R5RGltZW5zaW9uLCBkb2N1bWVudERpbWVuc2lvbik7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRWaWV3cG9ydERpbWVuc2lvbnMgKCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIHdpZHRoOiAgZ2V0Vmlld3BvcnREaW1lbnNpb24od2luZG93LmlubmVyV2lkdGgsIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aCwgZG9jdW1lbnQuYm9keS5jbGllbnRXaWR0aCksXG4gICAgICAgIGhlaWdodDogZ2V0Vmlld3BvcnREaW1lbnNpb24od2luZG93LmlubmVySGVpZ2h0LCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0LCBkb2N1bWVudC5ib2R5LmNsaWVudEhlaWdodCksXG4gICAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFdpbmRvd0RpbWVuc2lvbnMgKHdpbmRvdykge1xuICAgIHJldHVybiBuZXcgQm91bmRhcnlWYWx1ZXMoMCwgZ2V0V2lkdGgod2luZG93KSwgZ2V0SGVpZ2h0KHdpbmRvdyksIDApO1xufVxuXG5mdW5jdGlvbiBpc1Zpc2liaWxpdHlIaWRkZW5Ob2RlIChub2RlKSB7XG4gICAgcmV0dXJuICEhZG9tVXRpbHMuZmluZFBhcmVudChub2RlLCB0cnVlLCBhbmNlc3RvciA9PlxuICAgICAgICBkb21VdGlscy5pc0VsZW1lbnROb2RlKGFuY2VzdG9yKSAmJiBzdHlsZVV0aWxzLmdldChhbmNlc3RvciwgJ3Zpc2liaWxpdHknKSA9PT0gJ2hpZGRlbicpO1xufVxuXG5mdW5jdGlvbiBpc0hpZGRlbk5vZGUgKG5vZGUpIHtcbiAgICByZXR1cm4gISFkb21VdGlscy5maW5kUGFyZW50KG5vZGUsIHRydWUsIGFuY2VzdG9yID0+XG4gICAgICAgIGRvbVV0aWxzLmlzRWxlbWVudE5vZGUoYW5jZXN0b3IpICYmIHN0eWxlVXRpbHMuZ2V0KGFuY2VzdG9yLCAnZGlzcGxheScpID09PSAnbm9uZScpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNOb3RWaXNpYmxlTm9kZSAobm9kZSkge1xuICAgIHJldHVybiAhZG9tVXRpbHMuaXNSZW5kZXJlZE5vZGUobm9kZSkgfHwgaXNIaWRkZW5Ob2RlKG5vZGUpIHx8IGlzVmlzaWJpbGl0eUhpZGRlbk5vZGUobm9kZSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBoYXNEaW1lbnNpb25zIChlbCkge1xuICAgIC8vTk9URTogaXQncyBsaWtlIGpxdWVyeSAnOnZpc2libGUnIHNlbGVjdG9yIChodHRwOi8vYmxvZy5qcXVlcnkuY29tLzIwMDkvMDIvMjAvanF1ZXJ5LTEtMy0yLXJlbGVhc2VkLylcbiAgICByZXR1cm4gZWwgJiYgIShlbC5vZmZzZXRIZWlnaHQgPD0gMCAmJiBlbC5vZmZzZXRXaWR0aCA8PSAwKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzRml4ZWRFbGVtZW50IChub2RlKSB7XG4gICAgcmV0dXJuIGRvbVV0aWxzLmlzRWxlbWVudE5vZGUobm9kZSkgJiYgc3R5bGVVdGlscy5nZXQobm9kZSwgJ3Bvc2l0aW9uJykgPT09ICdmaXhlZCc7XG59XG4iXX0=